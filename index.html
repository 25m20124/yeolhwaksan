<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ìˆ­ë¡€ë¬¸ ì—´ í™•ì‚° ì‹œë®¬ë ˆì´ì…˜</title>

<style>
body {
    margin: 0;
    background: #111;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

canvas {
    border: 2px solid #aaa;
    background: #000;
}
</style>
</head>

<body>

<canvas id="canvas" width="900" height="550"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

// ğŸ”¥ ìˆ­ë¡€ë¬¸ ìŠ¤í¬ë¦°ìƒ·
const image = new Image();
image.src = "images/sungnyemun.png";

// ì—´ ì…ì
let heat = [];

function createHeat() {
    heat.push({
        x: 420 + Math.random() * 40,
        y: 260 + Math.random() * 30,
        r: 8,
        a: 0.9
    });
}

function drawHeat(h) {
    const g = ctx.createRadialGradient(
        h.x, h.y, 0,
        h.x, h.y, h.r
    );

    g.addColorStop(0, `rgba(255,255,120,${h.a})`);
    g.addColorStop(0.5, `rgba(255,120,0,${h.a})`);
    g.addColorStop(1, `rgba(255,0,0,0)`);

    ctx.beginPath();
    ctx.fillStyle = g;
    ctx.arc(h.x, h.y, h.r, 0, Math.PI * 2);
    ctx.fill();
}

function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // ğŸ“¸ ë°°ê²½ ì´ë¯¸ì§€
    ctx.drawImage(image, 0, 0, canvas.width, canvas.height);

    // ì—´ ìƒì„±
    if (Math.random() < 0.35) createHeat();

    heat.forEach(h => {
        h.r += 0.6;
        h.a -= 0.005;
        h.x += Math.random() * 1.2;
        h.y += Math.random() * 1.0;
        drawHeat(h);
    });

    heat = heat.filter(h => h.a > 0);

    requestAnimationFrame(animate);
}

image.onload = () => {
    animate();
};

// â— ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ ì‹œ í™•ì¸ìš©
image.onerror = () => {
    alert("ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ê²½ë¡œ ë˜ëŠ” íŒŒì¼ëª…ì„ í™•ì¸í•˜ì„¸ìš”.");
};
</script>

</body>
</html>
